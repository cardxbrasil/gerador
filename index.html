<!doctype html>
<html lang="pt-br">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Gerador de Roteiros ‚Äî Pro V3</title>
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><text y='20'>üöÄ</text></svg>">
<!-- external libs preserved -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/2.1.0/showdown.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.11/dist/purify.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="style_pro_v3.css" rel="stylesheet" />
</head>
<body class="v3-root">
<header class="v3-header">
  <div class="v3-left">
    <button id="dockToggle" class="v3-icon-btn" aria-label="Abrir menu"><i class="fas fa-bars"></i></button>
    <div class="v3-brand"><i class="fas fa-video"></i><span>Roteiros ‚Ä¢ Pro</span></div>
    <div class="v3-presets" id="presetsChips"></div>
  </div>
  <div class="v3-center"><input id="quickSearch" class="v3-search" placeholder="Pesquisar projetos, ideias, presets..." /></div>
  <div class="v3-right">
    <button id="importBtn" class="btn btn-ghost" title="Importar"><i class="fas fa-upload"></i></button>
    <button id="exportBtn" class="btn btn-ghost" title="Exportar"><i class="fas fa-download"></i></button>
    <button id="helpBtn" class="btn btn-ghost" title="Ajuda"><i class="fas fa-question-circle"></i></button>
  </div>
</header>

<!-- Dock sidebar -->
<nav id="v3-dock" class="v3-dock" aria-label="Navega√ß√£o">
  <ul>
    <li data-pane="investigate" class="active"><i class="fas fa-search"></i><span>Investigar</span></li>
    <li data-pane="strategy"><i class="fas fa-lightbulb"></i><span>Estrat√©gia</span></li>
    <li data-pane="script"><i class="fas fa-scroll"></i><span>Roteiro</span></li>
    <li data-pane="finalize"><i class="fas fa-rocket"></i><span>Finalizar</span></li>
  </ul>
</nav>

<!-- Main content -->
<main class="v3-main">
  <section class="v3-stage" id="stage-investigate">
    <div class="card large">
      <h2>1. Investigar & Idear</h2>
      <p class="muted">Cole o tema ou relat√≥rio ‚Äî o sistema sugere fatos e ideias.</p>
      <div class="controls-row">
        <select id="languageSelect" class="input small">
          <option value="pt-br" selected>Portugu√™s (BR)</option>
          <option value="en">English</option>
        </select>
        <input id="factCheckQuery" class="input flex" placeholder="Ex: A Arca da Alian√ßa foi encontrada?" />
        <button id="investigateBtn" class="btn btn-primary">Investigar</button>
      </div>
      <div id="factCheckOutput" class="output-surface"></div>
    </div>

    <div class="card">
      <div class="card-header">
        <h3>Gerar Ideias</h3>
        <div class="muted">Transforme o relat√≥rio em propostas prontas.</div>
      </div>
      <div class="card-body">
        <div class="tabs" id="genreTabs">
          <button class="tab active" data-genre="documentario">Document√°rio</button>
          <button class="tab" data-genre="inspiracional">Inspiracional</button>
          <button class="tab" data-genre="enigmas">Enigmas</button>
          <button class="tab" data-genre="geral">Geral</button>
        </div>
        <div class="controls-row">
          <button id="generateIdeasBtn" class="btn btn-primary large">Gerar Prompt de Ideias (G)</button>
          <button id="openPresetsBtn" class="btn btn-ghost">Personas</button>
        </div>
        <div id="ideasCards" class="masonry"></div>
      </div>
    </div>
  </section>

  <section class="v3-stage hidden" id="stage-strategy">
    <div class="card">
      <h2>2. Definir Estrat√©gia</h2>
      <div class="grid-2">
        <div>
          <label>Nome do Canal</label>
          <input id="channelName" class="input" type="text" data-required="true" value="The Biblical Unveiling" />
        </div>
        <div>
          <label>Tema do V√≠deo</label>
          <input id="videoTheme" class="input" type="text" data-required="true" placeholder="Ex: A Arca da Alian√ßa Foi Encontrada?" />
        </div>
        <div>
          <label>Dura√ß√£o</label>
          <select id="videoDuration" class="input small">
            <option value="">-- Selecione --</option>
            <option value="short">Curto (~1-3 min)</option>
            <option value="medium">M√©dio (~4-7 min)</option>
            <option value="long">Longo (~8-12 min)</option>
          </select>
        </div>
        <div>
          <label>Ritmo Visual</label>
          <select id="visualPacing" class="input small">
            <option value="">-- Selecione --</option>
            <option value="dinamico">Din√¢mico</option>
            <option value="normal">Normal</option>
            <option value="contemplativo">Contemplativo</option>
          </select>
        </div>
      </div>
      <div class="controls-row">
        <button id="applyStrategyBtn" class="btn btn-primary">Aplicar Estrat√©gia</button>
        <button id="previewScriptBtn" class="btn btn-ghost">Pr√©-visualizar Roteiro</button>
      </div>
    </div>
  </section>

  <section class="v3-stage hidden" id="stage-script">
    <div class="card large">
      <h2>3. Criar Roteiro</h2>
      <div id="scriptEditor" class="output-surface"></div>
    </div>
  </section>

  <section class="v3-stage hidden" id="stage-finalize">
    <div class="card">
      <h2>4. Finalizar & Exportar</h2>
      <div class="controls-row">
        <button id="exportProjectBtn" class="btn btn-primary">Exportar Projeto</button>
        <button id="resetProjectBtn" class="btn btn-ghost">Resetar</button>
      </div>
    </div>
  </section>
</main>

<!-- Bottom mobile bar -->
<nav class="v3-bottombar mobile-only">
  <button data-pane="investigate"><i class="fas fa-search"></i></button>
  <button data-pane="strategy"><i class="fas fa-lightbulb"></i></button>
  <button data-pane="script"><i class="fas fa-scroll"></i></button>
  <button data-pane="finalize"><i class="fas fa-rocket"></i></button>
</nav>

<!-- Hidden file input -->
<input type="file" id="importFileInput" accept=".json" class="hidden" />

<!-- Panels & toasts -->
<div id="toastContainer" class="toast-container" aria-live="polite"></div>
<aside id="ideaDetailsPanel" class="idea-details-panel" aria-hidden="true"></aside>

<script src="script_pro_v3.js"></script>
</body>
</html>
