<!DOCTYPE html>

<html lang="pt-br">
<head>
<link href="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text y=%22.9em%22 font-size=%2290%22&gt;üöÄ&lt;/text&gt;&lt;/svg&gt;" rel="icon" type="image/svg+xml"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/2.1.0/showdown.min.js"></script>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@700&amp;family=Source+Serif+Pro:ital,wght@0,400;0,700;1,400&amp;display=swap" rel="stylesheet"/>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Gerador de Roteiros Virais v4.0</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
<script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.11/dist/purify.min.js"></script>



<link href="style.css" rel="stylesheet"/></head>
<body class="bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-900 dark:to-gray-800 transition-colors duration-500 ease-in-out">
<div class="min-h-screen flex">
<aside class="w-72 bg-white/30 dark:bg-gray-800/30 backdrop-blur-lg border-r border-white/20 dark:border-gray-700/20 p-6 hidden md:flex flex-col" id="appSidebar">
<div class="flex items-center justify-between mb-8">
<h3 class="text-xl font-bold text-gray-800 dark:text-gray-100">Etapas</h3>
<button class="p-2 rounded hover:bg-white/20 transition" id="sidebarCollapse">
<i class="fas fa-angle-left text-gray-700 dark:text-gray-200"></i>
</button>
</div>
<nav class="space-y-2 flex-1"><button class="sidebar-link flex items-center w-full text-left py-2 px-4 rounded-lg hover:bg-white/20 transition" data-target="step-1"><span class="mr-3 bg-white/20 px-2 py-1 rounded text-sm font-bold">01</span> 1. Definir Estrat√©gia</button>
<button class="sidebar-link flex items-center w-full text-left py-2 px-4 rounded-lg hover:bg-white/20 transition" data-target="step-2"><span class="mr-3 bg-white/20 px-2 py-1 rounded text-sm font-bold">02</span> 2. Criar Roteiro</button>
<button class="sidebar-link flex items-center w-full text-left py-2 px-4 rounded-lg hover:bg-white/20 transition" data-target="step-3"><span class="mr-3 bg-white/20 px-2 py-1 rounded text-sm font-bold">03</span> 3. Recursos e Metadados</button>
<button class="sidebar-link flex items-center w-full text-left py-2 px-4 rounded-lg hover:bg-white/20 transition" data-target="step-4"><span class="mr-3 bg-white/20 px-2 py-1 rounded text-sm font-bold">04</span> 5. An√°lise de Roteiro (Beta)</button>
<button class="sidebar-link flex items-center w-full text-left py-2 px-4 rounded-lg hover:bg-white/20 transition" data-target="step-5"><span class="mr-3 bg-white/20 px-2 py-1 rounded text-sm font-bold">05</span> 4. Gerenciamento do Projeto</button></nav>
<div class="pt-6 border-t border-white/20 dark:border-gray-700/20 text-sm text-gray-600 dark:text-gray-300">
    Use os bot√µes acima para navegar entre as etapas.
  </div>
</aside>
<div class="flex-1 p-8 space-y-6" id="rightContentWrapper">
<div class="min-h-screen">
<!-- Header -->
<header class="bg-white dark:bg-gray-800 shadow-sm">
<div class="container mx-auto px-4 py-4 flex justify-between items-center">
<h1 class="text-2xl font-bold text-indigo-600 dark:text-indigo-400">
<i class="fas fa-video mr-2"></i>Gerador de Roteiros Virais v4.0
                </h1>
<div class="flex items-center space-x-4">
<button class="theme-toggle" id="darkModeToggle">
<i class="fas fa-moon text-gray-700 dark:text-gray-300" id="moonIcon"></i>
<i class="fas fa-sun text-gray-700 dark:text-gray-300 hidden" id="sunIcon"></i>
</button>
</div>
</div>
</header>
<!-- Progress Bar -->
<div class="container mx-auto px-4 py-4">
<div class="mb-6">
<div class="flex justify-between text-sm mb-1">
<span>Progresso do Projeto</span>
<span id="progressText">0%</span>
</div>
<div class="progress-bar">
<div class="progress-fill" id="progressFill" style="width: 0%"></div>
</div>
</div>
</div>
<!-- Main Content -->
<main class="container mx-auto px-4 pb-20">
<!-- Estrat√©gia Section -->
<!-- ==================================================================== -->
<!--     NOVA SE√á√ÉO 0: CENTRAL DE INVESTIGA√á√ÉO E IDEIAS (FLUXO 2.0)     -->
<!-- ==================================================================== -->
<section class="mb-12">
<div class="text-center mb-8">
<h2 class="text-2xl font-bold mb-2">Comece com a Verdade</h2>
<p class="text-gray-600 dark:text-gray-400">Investigue um tema, fato ou pergunta. A IA buscar√° fontes e, a partir do relat√≥rio, voc√™ poder√° gerar ideias de roteiro j√° validadas.</p>
</div>
<div class="card">
<div class="input-group">
<label for="languageSelect">1. Primeiro, selecione o idioma da pesquisa:</label>
<select id="languageSelect">
<option value="pt-br">Portugu√™s (Brasil)</option>
<option selected="" value="en">English</option>
</select>
</div>
<div class="input-group">
<label for="factCheckQuery">2. Agora, digite o tema, fato ou pergunta a ser investigada:</label>
<textarea ...="" id="factCheckQuery" rows="3"></textarea>
</div>
<div class="text-center mt-4">
<button class="btn btn-secondary" data-action="investigate" id="investigateBtn">
<i class="fas fa-search-plus mr-2"></i>Investigar Tema
        </button>
</div>
<!-- Container para o relat√≥rio da IA -->
<div class="mt-8" id="factCheckOutput">
<!-- O relat√≥rio da investiga√ß√£o e o "bot√£o m√°gico" aparecer√£o aqui -->
</div>
<hr class="my-8 border-dashed border-gray-300 dark:border-gray-600"/>
<!-- Parte 2: A Gera√ß√£o de Ideias -->
<div class="hidden" id="ideaGenerationSection">
<div class="text-center">
<h3 class="text-lg font-bold mb-2">Gerar Ideias a partir do Relat√≥rio</h3>
<p class="text-sm text-gray-500 dark:text-gray-400 mb-4">Agora, escolha um especialista para transformar os fatos investigados em ideias de v√≠deo criativas.</p>
</div>
<!-- A Barra de Navega√ß√£o com Abas de G√™nero -->
<div class="border-b border-gray-200 dark:border-gray-700">
<nav aria-label="Tabs" class="-mb-px flex flex-wrap space-x-2 justify-center" id="genreTabs">
<button class="tab-button tab-active" data-genre="documentario"> <i class="fas fa-film fa-fw"></i> <span>Document√°rio</span> </button>
<button class="tab-button" data-genre="inspiracional"> <i class="fas fa-hand-sparkles fa-fw"></i> <span>Inspiracional</span> </button>
<button class="tab-button" data-genre="scifi"> <i class="fas fa-rocket fa-fw"></i> <span>Fic√ß√£o Cient√≠fica</span> </button>
<button class="tab-button" data-genre="terror"> <i class="fas fa-ghost fa-fw"></i> <span>Terror</span> </button>
<button class="tab-button" data-genre="enigmas"> <i class="fas fa-scroll fa-fw"></i> <span>Enigmas (B√≠blico)</span> </button>
<button class="tab-button" data-genre="geral"> <i class="fas fa-lightbulb fa-fw"></i> <span>Geral</span> </button>
</nav>
</div>
<div class="mt-6 text-center">
<button class="btn btn-primary" data-action="generateIdeasFromReport" id="generateIdeasFromReportBtn">
<i class="fas fa-magic mr-2"></i>Gerar Ideias com Especialista
                </button>
</div>
</div>
<!-- O Container final para a Sa√≠da das Ideias -->
<div class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-4" id="ideasOutput">
<!-- As ideias geradas pela IA aparecer√£o aqui -->
</div>
</div>
</section>
<div class="section-title" id="step-1">
<h2 class="text-xl font-bold">1. Definir Estrat√©gia</h2>
</div>
<!-- A navega√ß√£o das abas (continua a mesma) -->
<div class="border-b border-gray-200 dark:border-gray-700 mb-6">
<nav aria-label="Tabs" class="-mb-px flex flex-wrap md:flex-nowrap space-x-6" id="inputTabsNav">
<button class="tab-button tab-active" data-tab="input-tab-basico">
<i class="fas fa-info-circle mr-2"></i> B√°sico
            </button>
<button class="tab-button" data-tab="input-tab-estrategia">
<i class="fas fa-lightbulb mr-2"></i> Estrat√©gia Narrativa
            </button>
<button class="tab-button" data-tab="input-tab-tecnicos">
<i class="fas fa-sliders-h mr-2"></i> Detalhes T√©cnicos
            </button>
</nav>
</div>
<!-- O conte√∫do das abas (AGORA CORRIGIDO) -->
<div class="card" id="inputTabContent">
<!-- Aba 1: B√°sico -->
<div class="tab-pane active-pane" id="input-tab-basico">
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
<div class="input-group"><label for="channelName">Nome do Canal:</label><input id="channelName" type="text" value="The Biblical Unveiling"/></div>
<div class="input-group"><label for="videoTheme">Tema do V√≠deo:</label><input id="videoTheme" placeholder="Ex: A Arca da Alian√ßa Foi Encontrada?" type="text"/></div>
<!-- Dura√ß√£o e Ritmo agora ficam lado a lado -->
<div class="input-group">
<label for="videoDuration">Dura√ß√£o Desejada:</label>
<select id="videoDuration">
<option value="">-- Selecione --</option>
<option value="short">Curto (~1-3 min)</option>
<option value="medium">M√©dio (~4-7 min)</option>
<option value="long">Longo (~8-12 min)</option>
</select>
</div>
<div class="input-group">
<label for="visualPacing">Ritmo Visual (Cenas):</label>
<select id="visualPacing">
<option selected="" value="">-- Selecione --</option> <!-- Adicionado 'selected' aqui -->
<option value="dinamico">Din√¢mico (3-8s)</option> <!-- Removido 'selected' daqui -->
<option value="normal">Normal (8-15s)</option>
<option value="contemplativo">Contemplativo (15-25s)</option>
</select>
</div>
<div class="input-group md:col-span-2"><label for="videoDescription">Descri√ß√£o do V√≠deo (para inspira√ß√£o):</label><textarea id="videoDescription" placeholder="Cole uma breve descri√ß√£o do v√≠deo aqui..." rows="4"></textarea></div>
</div>
</div>
<!-- Aba 2: Estrat√©gia Narrativa (COM NOVOS POPOVERS E TOOLTIPS) -->
<div class="tab-pane hidden" id="input-tab-estrategia">
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
<!-- Bloco 1: O Que e Para Quem -->
<div class="input-group md:col-span-2"><label for="targetAudience">P√∫blico-Alvo:</label><input id="targetAudience" placeholder="Quem voc√™ quer que assista? Descreva seu espectador ideal." type="text"/></div>
<div class="input-group md:col-span-2"><label for="narrativeTheme">3. Tema Principal:</label><input id="narrativeTheme" placeholder="Qual √© a 'grande ideia'? A √∫nica mensagem que seu p√∫blico deve lembrar?" type="text"/></div>
<div class="input-group md:col-span-2"><label for="centralQuestion">Pergunta Central (Opcional):</label><textarea id="centralQuestion" placeholder="Qual mist√©rio ou 'coceira mental' voc√™ vai criar e prometer resolver?" rows="2"></textarea></div>
<!-- Bloco 2: A Estrutura e a Alma -->
<!-- MUDAN√áA AQUI: Adicionamos a estrutura para o novo popover -->
<div class="relative group">
<div class="input-group">
<label for="narrativeGoal">1. Objetivo da Narrativa:</label>
<select id="narrativeGoal">
<option value="storytelling">Storytelling</option>
<option value="storyselling">Storyselling</option>
</select>
</div>
<div class="card popover-bg absolute bottom-full left-0 mb-2 w-[400px] opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 z-20 pointer-events-none group-hover:pointer-events-auto" id="goalPopover">
<h4 class="font-bold text-lg text-indigo-400 mb-2"></h4>
<p class="text-sm leading-relaxed"></p>
</div>
</div>
<div class="relative group">
<div class="input-group">
<div class="flex items-center gap-2 mb-2"><label for="narrativeStructure">2. Estrutura Espec√≠fica:</label></div>
<select id="narrativeStructure"></select>
</div>
<div class="card popover-bg absolute bottom-full left-0 mb-2 w-[400px] opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 z-20 pointer-events-none group-hover:pointer-events-auto" id="structurePopover">
<h4 class="font-bold text-lg text-indigo-400 mb-2" id="popoverTitle"></h4>
<p class="text-sm leading-relaxed" id="popoverDescription"></p>
</div>
</div>
<div class="input-group md:col-span-2"><label for="emotionalHook">Hist√≥ria Pessoal / Gancho Emocional (Opcional):
            <span class="help-icon tooltip-container">i
                <span class="tooltip-text">
<strong>D√™ uma alma para sua hist√≥ria.</strong> Este √© o 'fio condutor' humano. A IA usar√° esta pequena hist√≥ria para conectar os grandes fatos a uma experi√™ncia pessoal, tornando o roteiro muito mais impactante.
                </span>
</span>
</label><textarea id="emotionalHook" placeholder="Qual rosto humano dar√° alma √† sua hist√≥ria? Ex: a jornada de um indiv√≠duo, uma mem√≥ria pessoal, um arqu√©tipo (o azar√£o, o mentor)..." rows="3"></textarea></div>
<!-- Bloco 3: O Tom e a Jornada -->
<div class="input-group"><label for="narrativeTone">4. Tom da Narra√ß√£o:
            <!-- NOVO TOOLTIP AQUI -->
<span class="help-icon tooltip-container">i
                <span class="tooltip-text">
<strong>Define o "sentimento" do v√≠deo.</strong> √â s√©rio e sombrio? Leve e inspirador? A escolha do tom guia a m√∫sica, o ritmo e o estilo da narra√ß√£o.
                </span>
</span>
</label><select id="narrativeTone"><option selected="" value="inspirador">Inspirador</option><option value="serio">S√©rio</option><option value="emocional">Emocional</option></select></div>
<div class="input-group"><label for="narrativeVoice">5. Voz do Narrador:
            <!-- NOVO TOOLTIP AQUI -->
<span class="help-icon tooltip-container">i
                <span class="tooltip-text">
<strong>Imagine que seu canal √© uma pessoa.</strong> Como ela falaria? Um mentor s√°bio? Um amigo entusiasmado? Um investigador misterioso? Isso define a personalidade da sua narra√ß√£o.
                </span>
</span>
</label><input id="narrativeVoice" placeholder="Ex: Confiante, Engra√ßada, Misteriosa..." type="text"/></div>
<div class="input-group md:col-span-2"><label for="emotionalArc">Arco Emocional Desejado (Opcional):
            <!-- NOVO TOOLTIP AQUI -->
<span class="help-icon tooltip-container">i
                <span class="tooltip-text">
<strong>Qual jornada de sentimentos voc√™ quer que o espectador percorra?</strong> Come√ßa com curiosidade, vai para a tens√£o e termina em al√≠vio? Planejar isso cria um v√≠deo muito mais impactante.
                </span>
</span>
</label><textarea id="emotionalArc" placeholder="Ex: Curiosidade -&gt; Tens√£o -&gt; Surpresa -&gt; Al√≠vio" rows="2"></textarea></div>
<div class="input-group md:col-span-2"><label for="shockingEndingHook">O Desfecho Chocante (Hook Opcional):
            <span class="help-icon tooltip-container">i
                <span class="tooltip-text">
<strong>A t√©cnica do 'loop aberto' reverso.</strong> Coloque a frase final e mais chocante da sua hist√≥ria aqui. A IA usar√° esta frase como a PRIMEIRA linha do v√≠deo, criando um mist√©rio instant√¢neo que prende o espectador at√© o final.
                </span>
</span>
</label><input id="shockingEndingHook" placeholder="Ex: ...e foi por isso que a Arca nunca deveria ser encontrada." type="text"/></div>
</div>
</div>
<!-- Aba 3: Detalhes T√©cnicos (COM TOOLTIPS CORRIGIDOS) -->
<div class="tab-pane hidden" id="input-tab-tecnicos">
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
<div class="input-group"><label for="languageStyle">Estilo de Linguagem:</label><select id="languageStyle"><option selected="" value="inspirador">Inspirador</option><option value="formal">Formal</option></select></div>
<div class="input-group"><label for="videoObjective">Objetivo do V√≠deo:</label><select id="videoObjective"><option selected="" value="informar">Informar</option><option value="emocionar">Emocionar</option></select></div>
<div class="input-group"><label for="speakingPace">Ritmo de Fala:</label><select id="speakingPace"><option selected="" value="moderate">Moderado</option><option value="slow">Lento</option><option value="fast">R√°pido</option></select></div>
<div class="input-group md:col-span-2">
<label for="researchData">Fontes e Dados de Pesquisa (Opcional):
                <!-- A CORRE√á√ÉO EST√Å AQUI: Adicionamos a classe 'tooltip-container' -->
<span class="help-icon tooltip-container">i
                    <span class="tooltip-text">
<strong>Aumente a credibilidade.</strong> Cole aqui nomes, datas, estat√≠sticas, ou cita√ß√µes. A IA ir√° tecer essas informa√ß√µes na narrativa.
                        Ex: 'Fonte: Estudo de Harvard; Dr. Jo√£o da Silva, especialista...'
                    </span>
</span>
</label>
<textarea id="researchData" placeholder="Para aumentar a credibilidade, cole aqui dados, fontes, nomes e links que a IA deve citar e contextualizar no roteiro. Ex: Fonte: Atlas da Viol√™ncia 2023; Maria da Silva, coordenadora do Instituto Odara..." rows="4"></textarea>
</div>
<div class="input-group md:col-span-2"><label for="imageDescriptionEngine">Motor de Descri√ß√£o de Imagem:</label><textarea id="imageDescriptionEngine" placeholder="Ex: 'fotografias reais', 'close-up emocional'" rows="2"></textarea></div>
<div class="input-group md:col-span-2"><label for="imageStyleSelect">Motor de Qualidade de Imagem:</label><select id="imageStyleSelect"><option selected="" value="cinematic">Cinematogr√°fico</option><option value="custom">Personalizado</option><option value="none">Nenhum</option></select></div>
<div class="input-group md:col-span-2" id="customImageStyleContainer" style="display: none;">
<label for="customImageStyle">Estilo de Imagem Personalizado:</label>
<textarea id="customImageStyle" placeholder="Descreva o seu estilo de imagem aqui... Ex: 'estilo de arte de Van Gogh', 'preto e branco com alto contraste'..." rows="3"></textarea>
</div>
</div>
</div>
<!-- O bot√£o final (continua o mesmo) -->
<div class="mt-6 text-center">
<div class="mt-6 flex flex-col sm:flex-row items-center justify-center gap-4">
<!-- Bot√£o Opcional para ajuda da IA -->
<button class="btn btn-secondary w-full sm:w-auto" data-action="suggestStrategy" id="suggestStrategyBtn">
<i class="fas fa-magic mr-2"></i> Sugerir Estrat√©gia com IA
    </button>
<!-- Bot√£o Principal para avan√ßar -->
<button class="btn btn-primary w-full sm:w-auto" data-action="startCrafting" id="startCraftingBtn">
<i class="fas fa-arrow-right mr-2"></i> Iniciar Cria√ß√£o do Roteiro
    </button>
</div>
</div>

<!-- PAINEL DO PROJETO (inicialmente escondido) -->
<div class="hidden mt-12" id="projectDashboard">
<!-- SE√á√ÉO 2: CRIAR ROTEIRO -->
<section class="mb-10">
<div class="section-title" id="step-2"><h2 class="text-xl font-bold">2. Criar Roteiro</h2></div>
<!-- Card do Esbo√ßo Estrat√©gico -->
<div class="card card-placeholder mb-6" id="strategicOutlineCard">
<div class="flex justify-between items-center mb-3">
<h3 class="font-semibold text-lg">Esbo√ßo Estrat√©gico</h3>
<button class="btn btn-secondary btn-small" data-action="generateOutline" id="generateOutlineBtn">Criar Esbo√ßo</button>
</div>
<div id="outlineContent"><div class="asset-card-placeholder">Clique para gerar o esbo√ßo.</div></div>
</div>
<!-- Container onde as se√ß√µes do roteiro (Introdu√ß√£o, etc.) ser√£o injetadas -->
<div class="space-y-4" id="scriptSectionsContainer"></div>
</section>
<!-- FIM DA SE√á√ÉO 2 -->
<!-- ========================================================================= -->
<!--  IN√çCIO DA CORRE√á√ÉO: O M√ìDULO DE CONCLUS√ÉO AGORA TEM UM LUGAR FIXO AQUI  -->
<!-- ========================================================================= -->
<div class="card mb-6 hidden" id="conclusionStrategyModule">
<div class="text-center mb-4">
<h3 class="text-lg font-bold">Qual √© o objetivo final do seu v√≠deo?</h3>
<button class="btn btn-secondary btn-small mt-2" data-action="suggestFinalStrategy" id="suggestFinalStrategyBtn">
<i class="fas fa-magic mr-2"></i> Sugerir Estrat√©gia Final
            </button>
</div>
<div class="flex justify-center flex-wrap gap-4 mb-6">
<label class="radio-label">
<input checked="" name="conclusionType" type="radio" value="lesson"/>
<span><i class="fas fa-graduation-cap mr-2"></i>Deixar uma Li√ß√£o / Reflex√£o</span>
</label>
<label class="radio-label">
<input name="conclusionType" type="radio" value="answer"/>
<span><i class="fas fa-question-circle mr-2"></i>Responder uma Pergunta Central</span>
</label>
<label class="radio-label">
<input name="conclusionType" type="radio" value="cliffhanger"/>
<span><i class="fas fa-bolt mr-2"></i>Criar um Gancho / Mist√©rio Cont√≠nuo</span>
</label>
</div>
<div class="input-group" id="conclusionInputContainer">
<label for="conclusionSpecifics">Detalhes para a Conclus√£o:</label>
<textarea id="conclusionSpecifics" placeholder="Qual sentimento ou ideia final voc√™ quer deixar com o espectador? Esperan√ßa? Indigna√ß√£o? Uma nova perspectiva?" rows="3"></textarea>
</div>
<div class="input-group mt-4">
<label for="ctaSpecifics">Detalhes para o Call to Action (CTA) Espec√≠fico (Opcional):</label>
<textarea id="ctaSpecifics" placeholder="Qual a√ß√£o espec√≠fica voc√™ quer que o espectador tome? Ex: Visitar um site, apoiar uma causa, comprar um produto..." rows="2"></textarea>
</div>
<div class="text-center mt-6">
<button class="btn btn-primary" data-action="generateConclusion" id="generateConclusionBtn">
<i class="fas fa-pen-fancy mr-2"></i>Gerar Conclus√£o
            </button>
<button class="btn btn-primary hidden" data-action="generateCta" id="generateCtaBtn">
<i class="fas fa-bullhorn mr-2"></i>Gerar CTA Estrat√©gico
            </button>
</div>
</div>
<!-- ========================================================================= -->
<!--                 FIM DA CORRE√á√ÉO E DO M√ìDULO DE CONCLUS√ÉO                  -->
<!-- ========================================================================= -->
<!-- SE√á√ÉO 3: RECURSOS E METADADOS -->
<section>
<div class="section-title" id="step-3"><h2 class="text-xl font-bold">3. Recursos e Metadados</h2></div>
<!-- Mapa Emocional -->
<div class="card card-placeholder mb-6">
<div class="flex justify-between items-center mb-3">
<h3 class="font-semibold text-lg">Mapa Emocional</h3>
<button class="btn btn-secondary btn-small" data-action="mapEmotions" id="mapEmotionsBtn">Mapear</button>
</div>
<div id="emotionalMapContent"><div class="asset-card-placeholder">Gere o roteiro completo para habilitar.</div></div>
</div>
<!-- Grid para os outros recursos -->
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
<!-- T√≠tulos & Thumbnails -->
<div class="card card-placeholder">
<div class="flex justify-between items-center mb-3">
<h3 class="font-semibold text-lg">T√≠tulos &amp; Thumbnails</h3>
<button class="btn btn-secondary btn-small" data-action="generateTitlesAndThumbnails" id="generateTitlesAndThumbnailsBtn">Gerar</button>
</div>
<div id="titlesThumbnailsContent"><div class="asset-card-placeholder">Gere o roteiro para habilitar.</div></div>
</div>
<!-- Descri√ß√£o & Hashtags -->
<div class="card card-placeholder">
<div class="flex justify-between items-center mb-3">
<h3 class="font-semibold text-lg">Descri√ß√£o &amp; Hashtags</h3>
<button class="btn btn-secondary btn-small" data-action="generateDescription" id="generateDescriptionBtn">Gerar</button>
</div>
<div id="videoDescriptionContent"><div class="asset-card-placeholder">Gere o roteiro para habilitar.</div></div>
</div>
<!-- Trilha Sonora -->
<div class="card card-placeholder md:col-span-2">
<div class="flex justify-between items-center mb-3">
<h3 class="font-semibold text-lg">Trilha Sonora</h3>
<button class="btn btn-secondary btn-small" data-action="generateSoundtrack" id="generateSoundtrackBtn">Gerar</button>
</div>
<div id="soundtrackContent"><div class="asset-card-placeholder">Gere o roteiro para habilitar.</div></div>
</div>
</div>
<!-- Note que o m√≥dulo de conclus√£o n√£o est√° mais aqui dentro -->
</section>

<!-- SE√á√ÉO 5: AN√ÅLISE DE ROTEIRO COMPLETO -->
<section class="mt-10 hidden" id="scriptAnalysisSection">
<div class="section-title" id="step-4">
<h2 class="text-xl font-bold">5. An√°lise de Roteiro (Beta)</h2>
</div>
<div class="card text-center">
<p class="mb-4 text-gray-600 dark:text-gray-400">Pronto para receber um feedback de n√≠vel profissional? Nossas IAs analisar√£o seu roteiro em busca de pontos fortes, oportunidades de melhoria e ganchos de reten√ß√£o.</p>
<!-- Container dos bot√µes -->
<div class="flex flex-wrap justify-center gap-4">
<button class="btn btn-primary" data-action="analyzeScript" id="analyzeScriptBtn">
<i class="fas fa-search-plus mr-2"></i> An√°lise Geral
            </button>
<button class="btn btn-secondary" data-action="analyzeHooks" id="analyzeHooksBtn">
<i class="fas fa-anchor mr-2"></i> Ca√ßar Ganchos
            </button>
<!-- NOSSO NOVO BOT√ÉO AQUI -->
<button class="btn btn-secondary" data-action="suggestViralElements" id="suggestViralBtn">
<i class="fas fa-lightbulb mr-2"></i> Sugerir Elementos Virais
            </button>
</div>
<!-- Containers para os relat√≥rios -->
<div class="mt-6 text-left" id="analysisReportContainer"></div>
<div class="mt-6 text-left" id="hooksReportContainer"></div>
<!-- NOSSO NOVO CONTAINER DE RELAT√ìRIO AQUI -->
<div class="mt-6 text-left" id="viralSuggestionsContainer"></div>
</div>
</section>
<!-- ========================================================== -->
<!--     NOVA SE√á√ÉO 4: GERENCIAMENTO DO PROJETO (EXPORTAR/IMPORTAR)     -->
<!-- ========================================================== -->
<section class="mt-10">
<div class="section-title" id="step-5">
<h2 class="text-xl font-bold">4. Gerenciamento do Projeto</h2>
</div>
<div class="card">
<div class="flex flex-wrap items-center justify-center gap-4">
<!-- Bot√£o para Importar Projeto -->
<label class="btn btn-secondary cursor-pointer" for="importFileInput">
<i class="fas fa-upload mr-2"></i> Importar Projeto
            </label>
<input accept=".json" class="hidden" id="importFileInput" type="file"/>
<!-- Bot√£o para Exportar Projeto -->
<button class="btn btn-secondary" data-action="exportProject" id="exportProjectBtn">
<i class="fas fa-download mr-2"></i> Exportar Projeto
            </button>
<!-- >>> NOSSO NOVO BOT√ÉO AQUI <<< -->
<button class="btn btn-secondary" data-action="exportPdf" id="exportPdfBtn">
<i class="fas fa-file-pdf mr-2"></i> Exportar PDF
            </button>
<!-- >>> Exportar Transcri√ß√£o <<< -->
<button class="btn btn-secondary" data-action="exportTranscript" id="exportTranscriptBtn">
<i class="fas fa-file-alt mr-2"></i> Exportar Transcri√ß√£o (.rtf)
            </button>
<!-- Bot√£o para Resetar -->
<button class="btn bg-red-600 hover:bg-red-700 text-white" data-action="resetProject" id="resetProjectBtn">
<i class="fas fa-sync-alt mr-2"></i> Novo Projeto (Resetar)
            </button>
</div>
</div>
</section>
</div>
</div></main>
<div id="editing-menu">
<button data-action="expand" title="Expandir Par√°grafo">
<i class="fas fa-expand-alt fa-fw"></i> <span>Expandir</span>
</button>
<button data-action="summarize" title="Resumir Par√°grafo">
<i class="fas fa-compress-alt fa-fw"></i> <span>Resumir</span>
</button>
<button data-action="correct" title="Corrigir Ortografia e Gram√°tica">
<i class="fas fa-spell-check fa-fw"></i> <span>Corrigir</span>
</button>
</div>
<!-- Floating Action Bar -->
<div class="floating-action-bar">
<button class="theme-toggle bg-indigo-500 text-white">
<i class="fas fa-save"></i>
</button>
</div>
<!-- Toast Notification -->
<div class="toast" id="toast">
<span id="toastMessage">Mensagem de notifica√ß√£o</span>
</div>
</div>
<!-- Confirmation Dialog Overlay -->
<div id="confirmationDialogOverlay" style="display: none; position: fixed; inset: 0; background-color: rgba(0,0,0,0.7); z-index: 2000; align-items: center; justify-content: center;">
<div class="card max-w-sm w-full animate-fade-in">
<h3 class="text-xl font-bold mb-4" id="confirmationTitle">T√≠tulo da Confirma√ß√£o</h3>
<p class="mb-6" id="confirmationMessage">Deseja limpar o trabalho j√° realziado?</p>
<div class="flex justify-end gap-4">
<button class="btn btn-secondary" id="confirmBtnNo">N√£o</button>
<button class="btn btn-primary" id="confirmBtnYes">Sim</button>
</div>
</div>
</div>
<!-- ========================================================== -->
<!--     MODAL ATUALIZADO COM √ÅREA PARA SUGEST√ïES         -->
<!-- ========================================================== -->
<div id="inputDialogOverlay" style="display: none; position: fixed; inset: 0; background-color: rgba(0,0,0,0.7); z-index: 2000; align-items: center; justify-content: center;">
<div class="card max-w-md w-full animate-fade-in">
<h3 class="text-xl font-bold mb-4" id="inputDialogTitle">T√≠tulo do Di√°logo</h3>
<p class="text-sm text-gray-500 dark:text-gray-400 mb-4" id="inputDialogMessage">Mensagem de ajuda.</p>
<!-- Container para as sugest√µes da IA -->
<div class="space-y-2 mb-4" id="inputDialogSuggestions">
<!-- As sugest√µes (bot√µes) ser√£o injetadas aqui pelo JavaScript -->
</div>
<!-- Divisor opcional -->
<div class="relative flex py-2 items-center">
<div class="flex-grow border-t border-gray-300 dark:border-gray-700"></div>
<span class="flex-shrink mx-4 text-xs text-gray-400">OU</span>
<div class="flex-grow border-t border-gray-300 dark:border-gray-700"></div>
</div>
<div class="input-group mt-2">
<label for="inputDialogField" id="inputDialogLabel">Label do Campo</label>
<textarea class="!text-[var(--dark-text-body)]" id="inputDialogField" placeholder="Placeholder..." rows="2"></textarea>
</div>
<div class="flex justify-end gap-4 mt-6">
<button class="btn btn-secondary" id="inputBtnCancel">Cancelar</button>
<button class="btn btn-primary" id="inputBtnConfirm">Usar Tema Personalizado</button>
</div>
</div>
</div>

</div>
</div>

<script type="module" src="script.js"></script>
</body>
</html>